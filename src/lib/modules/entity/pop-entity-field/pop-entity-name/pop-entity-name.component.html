<div class="pop-entity-name import-field-container">
  <div class="import-flex-column import-field-flex-row-offset" *ngFor="let dataKey of field.data_keys">
    <div *ngIf="field.items[dataKey].config; let items;">
      <div *ngIf="dom.state.loaded && ui.asset[dataKey]; let asset">
        <div *ngIf="dom.state[dataKey]; let state;">

          <div class="import-flex-row import-field-flex-row-offset">
            <div class="import-flex-row-wrap">
              <div class="import-field import-field-spacing import-flex-item-sm import-flex-grow-sm">
                <lib-pop-input class="pop-entity-name-display" [config]="asset.display"></lib-pop-input>
              </div>
              <div *ngIf="true" class="import-field import-flex-item-icon">
                <lib-pop-entity-field-edit-icon
                  (events)="onActionEvent($event, dataKey);" [field]="this.field"
                  [dom]="dom"
                ></lib-pop-entity-field-edit-icon>
              </div>
            </div>
          </div>


          <div *ngIf="state.open" class="import-flex-row-wrap pt-02 sw-pad-lft-sm sw-pad-rgt-sm  sw-mar-top-sm">

            <!--<div *ngIf="field.multiple && field.setting.edit_label && asset.entry; let entry;" class="import-field import-field-spacing import-flex-item-sm import-flex-grow-sm">-->
              <!--<lib-pop-select [config]="entry"></lib-pop-select>-->
            <!--</div>-->
            <!--<div *ngIf="state.customLabel && asset.customLabel; let item;" class="import-field import-field-spacing import-flex-item-sm import-flex-grow-sm">-->
              <!--<lib-pop-input [config]="item"></lib-pop-input>-->
            <!--</div>-->
            <!--<div class="import-flex-row-break"></div>-->


            <div *ngIf="items['prefix']" class="import-field import-field-spacing import-flex-item-sm import-flex-grow-md">
              <lib-pop-input [config]="items['prefix']" (events)="onFieldItemEvent($event, dataKey, 'prefix');"></lib-pop-input>
            </div>

            <div *ngIf="items['first']" class="import-field import-field-spacing import-flex-item-md import-flex-grow-lg">
              <lib-pop-input [config]="items['first']" (events)="onFieldItemEvent($event, dataKey, 'first');"></lib-pop-input>
            </div>

            <div class="import-flex-row-break" *ngIf="items['prefix'] && field.items['middle']"></div>

            <div *ngIf="items['middle']" class="import-field import-field-spacing import-flex-item-sm import-flex-grow-md">
              <lib-pop-input [config]="items['middle']" (events)="onFieldItemEvent($event, dataKey, 'middle');"></lib-pop-input>
            </div>

            <div class="import-flex-row-break" *ngIf="!field.items['prefix'] && !field.items['middle']"></div>

            <div *ngIf="items['last']" class="import-field import-field-spacing import-flex-item-md import-flex-grow-lg">
              <lib-pop-input [config]="items['last']" (events)="onFieldItemEvent($event, dataKey, 'last');"></lib-pop-input>
            </div>

            <div class="import-flex-row-break" *ngIf="items['prefix'] && field.items['first'] && field.items['middle'] && field.items['last']"></div>

            <div *ngIf="items['suffix']" class="import-field import-field-spacing import-flex-item-sm import-flex-grow-md">
              <lib-pop-input [config]="items['suffix']" (events)="onFieldItemEvent($event, dataKey, 'suffix');"></lib-pop-input>
            </div>

            <div *ngIf="items['suffix']" class="import-field import-field-spacing import-flex-item-md import-flex-grow-lg"></div>

            <!--<div class="import-field-footer" [ngClass]="{'import-field-footer-adjust': !field.multiple || field.items['first'] && field.items['middle'] && field.items['last'] && field.items['suffix']}">-->
            <div class="import-field-footer sw-mar-top-md" *ngIf="field.canRemove">
              <lib-pop-field-btn class="sw-mar-rgt-lg" action="remove" [field]="field" (events)="onActionEvent($event, dataKey);"></lib-pop-field-btn>
            </div>

            <div class="import-flex-row-wrap import-flex-end sw-mar-top-lg sw-pad-rgt-lg sw-pad-btm-sm">
              <lib-pop-button
                [config]="{value:'Close', size: 30, color: 'accent', bubble: true, event: 'close'}"
                (events)="onActionEvent($event, dataKey);"
              ></lib-pop-button>
            </div>

          </div>

        </div>


      </div>

    </div>
  </div>
</div>

