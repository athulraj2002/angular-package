<div class="sbs-container" [style.height.px]=dom.height.outer *ngIf="dom.state.loaded">
  <div *ngIf="config.display && config.displayTitle" class="sbs-row-container">
    <div class="sbs-title">{{config.display}}</div>
  </div>

  <div class="sbs-row-container sbs-border-top sbs-border-r sbs-border-l" *ngIf="config.hasLabelRow">
    <div class="sbs-column-container sbs-border-r sbs-header">
      <div class="sbs-column-content sbs-center-text-vert" >
        <div class="sbs-row-container">
          <div class="sbs-error-container sbs-assigned-error-container" *ngIf="config.patch.removeErrMessage">
            <div class="sw-pointer options-error" matTooltipPosition="right" [matTooltip]="config.patch.removeErrMessage">
              <mat-icon class="sbs-error-icon" color="warn">info</mat-icon>
            </div>
        </div>

        <div class="sbs-item-toggle-container sw-pointer sbs-item-toggle-container-left" *ngIf="config.removeAll">
          <div class="sw-push-button-label"

               [ngClass]="{'sw-disabled': config.disabled || config.patch.running}"
               (click)="onRemoveAllOptions();"
               matTooltipPosition="above"
               [matTooltip]="'Remove All'"
               [matTooltipShowDelay]="750"
               [matTooltipHideDelay]="250">
            <p>S</p>
            <div class="sw-push-button-inner-label">
            </div>
          </div>
        </div>

        <div class="sbs-row-container sbs-flex sbs-title-left"
             [ngClass]="{'sw-hidden': !config.assignedLabel, 'sw-disabled': config.disabled}">
            <div class="sbs-flex mat-body-2 sbs-label header-label">{{config.assignedLabel}}</div>
          </div>

        </div>
      </div>
    </div>
    <div class="sbs-column-container sbs-header">
      <div class="sbs-column-content sbs-center-text-vert">
        <div class="sbs-row-container">

          <div class="sbs-item-toggle-container"
               *ngIf="config.assignAll">
            <div class="sw-push-button-label sw-pointer"
                 [ngClass]="{'sw-disabled': config.disabled || config.patch.running}"
                 (click)="onAssignAllOptions();"
                 matTooltipPosition="above"
                 [matTooltipShowDelay]="750"
                 [matTooltipHideDelay]="250"
                 [matTooltip]="'Assign All'">
              <p class="rotate">S</p>
              <div class="sw-push-button-inner-label">
              </div>
            </div>

          </div>
          <div class="sbs-row-container sbs-flex sbs-title-left"
               [ngClass]="{'sw-hidden': !config.optionsLabel,'sw-disabled': config.disabled}">
            <div class="sbs-label sbs-flex sbs-header-label mat-body-2 header-label">{{config.optionsLabel}}</div>
          </div>
          <div class="sbs-error-container sbs-options-error-container" *ngIf="config.patch.assignErrMessage">
            <div class="sw-pointer options-error"
                 matTooltipPosition="left"
                 [matTooltip]="config.patch.assignErrMessage">
              <mat-icon class="sbs-error-icon" color="warn">info</mat-icon>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="sbs-row-container " *ngIf="config.hasFilterRow && !config.filterBoth">
    <div class="sbs-column-container sbs-search-header sbs-border-l sbs-border-top ">
      <div class="sbs-column-content sbs-center-text-vert">
        <div class="sbs-row-container">
          <mat-icon matPrefix class="sbs-search-icon">search</mat-icon>
          <input #assignedFilter class="sbs-flex sbs-filter mat-body-2" placeholder="Search"
                 (keyup)="onApplyFilter('assigned', $event.target['value'])">
          <mat-icon class="sw-pointer sbs-clear-filter"  class="sw-pointer sbs-clear-filter" [ngClass]="{'hide-clear-icon': !this.assignedFilterValue, 'show-clear-icon': this.assignedFilterValue}"
                    (click)="assignedFilter.value = ''; assignedFilter.focus(); onApplyFilter('assigned', '');">clear
          </mat-icon>
        </div>
      </div>
    </div>
    <div class="sbs-column-container sbs-border-l sbs-border-r sbs-border-top">
      <div class="sbs-column-content  sbs-center-text-vert">
        <div class="sbs-row-container">
          <mat-icon matPrefix class="sbs-search-icon">search</mat-icon>
          <input #optionFilter class="sbs-flex sbs-filter" placeholder="Search"
                 (keyup)="onApplyFilter('options', $event.target['value'])">
          <mat-icon class="sw-pointer sbs-clear-filter" [ngClass]="{'hide-clear-icon': !this.availableFilterValue, 'show-clear-icon': this.availableFilterValue}" (click)="optionFilter.value = ''; optionFilter.focus(); onApplyFilter('options', '');">
            clear
          </mat-icon>
        </div>
      </div>
    </div>
  </div>

  <div class="sbs-row-container sbs-border-l sbs-border-r sbs-border-top sbs-content-pad sbs-search-header" *ngIf="config.hasFilterRow && config.filterBoth">

    <div class="sbs-column-content  sbs-center-text-vert">
      <div class="sbs-row-container">

    <mat-icon matPrefix class="sbs-search-icon">search</mat-icon>
    <input #bothFilter class="sbs-flex sbs-filter" placeholder="Search" (keyup)="onApplyFilter('both', $event.target.value)">
    <mat-icon class="sw-pointer sbs-clear-filter" [ngClass]="{'hide-clear-icon': !this.availableFilterValue, 'show-clear-icon': this.availableFilterValue}" (click)="bothFilter.value = ''; bothFilter.focus(); onApplyFilter('both', '');">
      clear
    </mat-icon>
      </div></div>
  </div>

  <div class="sbs-row-container sbs-border-top sbs-border-r sbs-border-l sbs-border-bottom" [style.height.px]="dom.height.inner">
    <div class="sbs-column-container sbs-border-r sbs-column-left">
      <div class="sbs-column-container sbs-flex" *ngIf="!ui.optionsCount && config.displayHelper ? '': !ui.assignedCount && config.displayHelper">
        <div class="sbs-column-content">
          <div class="sbs-row-container">
            <mat-icon class="sbs-helper-icon">sentiment_dissatisfied</mat-icon>
          </div>
          <div class="sbs-row-container ">
            <label class="help-text sbs-align-center">{{config.helpText}}</label>
          </div>
          <div class="sbs-row-container ">
          <p class="help-caption mat-caption sbs-align-center">Use the arrows <span class="left-arrow">S</span> to make assignments</p>
          </div>
        </div>
      </div>
      <mat-list class="sbs-bucket sbs-assigned-bucket" [style.height.px]="dom.height.inner" *ngIf="ui.assignedCount || !config.displayHelper">
        <!--<mat-list-item class="sbs-assigned-item" *ngFor="let option of config.options.values" [ngClass]="{'sw-disabled': config.disabled, 'sw-hidden': !ui.assigned[option.value] || option.assignedFilter || option.assignBlock }" (contextmenu)=onMouseRightClick(option,$event)>-->
        <mat-list-item class="sbs-assigned-item" *ngFor="let option of config.options.values" [ngClass]="{'sw-disabled': config.disabled, 'sw-hidden': !ui.assigned[option.value] || option.assignedFilter || option.assignBlock }">
          <div class="sbs-item-toggle-container sbs-align-left">
            <div class="sw-push-button sw-pointer"
                 [ngClass]="{'sw-hidden': option.patching}"
                 matTooltipPosition="above"
                 [matTooltipShowDelay]="750"
                 [matTooltipHideDelay]="250"
                 [matTooltip]="'Remove'"
                 (click)="onRemoveOption(option);">
              <p>S</p>
              <div class="sw-push-button-inner">
              </div>
            </div>
            <div class="sbs-feedback-container"
                 [ngClass]="{'sw-hidden': !option.patching || !config.patch.displayIndicator}">
              <lib-main-spinner
                [options]="{strokeWidth:3, color:'accent', diameter:19}">
              </lib-main-spinner>
            </div>
          </div>

          <div class="sw-circle-ID" *ngIf="config.displayCircleID">
            {{ option.name | characterIcon }}
          </div>

          <div class="sbs-item-label-container">
              <span class="sbs-label sbs-flex">
                <div [ngSwitch]="config.optionHtml">
                  <span *ngSwitchCase="'label'" class="mat-body-2 sbs-right-bucket-label">{{option.name}}</span>
                  <a *ngSwitchCase="'route'" (click)="onNavigateToOptionRoute(option);" class="mat-body-2 sbs-right-bucket-label sw-pointer">{{option.name}}</a></div></span>
            <div class="sw-pointer"
                 *ngIf="option.errMessage"
                 matSuffix=""
                 matTooltipPosition="left"
                 [matTooltip]=option.errMessage>
              <mat-icon color="warn">info</mat-icon>
            </div>
          </div>

        </mat-list-item>
      </mat-list>
    </div>
    <div class="sbs-column-container  sbs-column-left ">
      <mat-list class="sbs-bucket" [style.height.px]="dom.height.inner">

        <div class="sbs-column-container sbs-flex" *ngIf="!ui.optionsCount && config.displayHelper">
          <div class="sbs-column-content sbs-mar-btm ">
            <div class="sbs-row-container">
              <mat-icon class="sbs-helper-icon">sentiment_dissatisfied</mat-icon>
            </div>
            <div class="sbs-row-container">
              <label class="help-text h2 sbs-align-center">{{config.helpTextRight}}</label>
            </div>
            <!--<div class="sbs-row-container sbs-align-center">-->
            <!--<p class="sbs-helper-text sbs-align-center">Use the arrows <span class="sw-push-button-sample">S</span>to make assignments</p>-->
            <!--</div>-->
          </div>
        </div>

        <!--<mat-list-item *ngFor="let option of config.options.values" [ngClass]="{'sw-disabled': config.disabled, 'sw-hidden': ui.assigned[option.value] || option.optionFilter || option.optionBlock}" (contextmenu)=onMouseRightClick(option,$event)>-->
        <mat-list-item class="sbs-item" *ngFor="let option of config.options.values" [ngClass]="{'sw-disabled': config.disabled, 'sw-hidden': ui.assigned[option.value] || option.optionFilter || option.optionBlock}">
          <div class="sbs-item-toggle-container">
            <div class="sw-push-button sw-pointer"
                 [ngClass]="{'sw-hidden': option.patching}"
                 matTooltipPosition="above"
                 [matTooltipShowDelay]="750"
                 [matTooltipHideDelay]="250"
                 [matTooltip]="'Assign'"
                 (click)="onOptionAssign(option);">
              <p class="rotate">S</p>
              <div class="sw-push-button-inner">
              </div>
            </div>
            <div class="sbs-feedback-container"
                 [ngClass]="{'sw-hidden': !option.patching || !config.patch.displayIndicator}">
              <lib-main-spinner
                [options]="{strokeWidth:3, color:'accent', diameter:19}">
              </lib-main-spinner>
            </div>
          </div>

          <div class="sw-circle-ID" *ngIf="config.displayCircleID">
            {{ option.name | characterIcon }}
          </div>

          <div class="sbs-item-label-container">
              <span class="sbs-label sbs-flex">
                <div [ngSwitch]="config.optionHtml">
                  <span *ngSwitchCase="'label'" class="mat-body-2 sbs-right-bucket-label">{{option.name}}</span>
                  <a *ngSwitchCase="'route'" (click)="onNavigateToOptionRoute(option);" class="mat-body-2 sbs-right-bucket-label sw-pointer">{{option.name}}</a>
                </div>
              </span>
            <div class="sw-pointer"
                 *ngIf="option.errMessage"
                 matSuffix=""
                 matTooltipPosition="left"
                 [matTooltip]=option.errMessage>
              <mat-icon color="warn">info</mat-icon>
            </div>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
  <!--<lib-pop-context-menu *ngIf="dom.contextMenu" [config]="dom.contextMenu.config"></lib-pop-context-menu>-->
</div>
