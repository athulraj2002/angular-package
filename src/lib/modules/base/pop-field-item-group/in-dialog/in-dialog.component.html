<div *ngIf="dom.state.loaded" [@slideInOut]>
  <div class="in-dialog-title" *ngIf="config.inDialog.title !== null">{{config.inDialog.title}}</div>
  <div class="in-dialog-fields">
    <form (keyup.enter)="onEnterPress($event);" [formGroup]="ui.form" [className]="dom.state.pending ? 'in-dialog-field-lock' : ''">
      <lib-group [ngClass]="{'in-dialog-disabled': dom.state.pending}" [config]="config" (events)="onBubbleEvent($event);"></lib-group>
    </form>
  </div>
  <div class="in-dialog-buttons">
    <button *ngIf="config.inDialog.cancel" class="in-dialog-cancel" mat-raised-button (click)="onFormCancel();" [disabled]="dom.state.pending">
      Cancel
    </button>
    <button class="in-dialog-other" mat-raised-button color="accent" (click)="onFormSubmit()" [disabled]="!dom.state.validated || dom.state.pending">
      <span *ngIf="!dom.state.pending">{{config.inDialog.submit}}</span>
      <div *ngIf="dom.state.pending">
        <mat-spinner diameter="20"></mat-spinner>
      </div>
    </button>
  </div>
  <div class="in-dialog-message-layout" *ngIf="dom.state.success || dom.error?.message" [@slideInOut]>
    <div *ngIf="dom.state.success" class="in-dialog-success">{{dom.state.success}}</div>
    <div *ngIf="dom.error.message" class="in-dialog-errors" [innerHTML]=dom.error.message></div>
  </div>
</div>
