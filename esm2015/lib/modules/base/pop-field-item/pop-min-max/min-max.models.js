import { FormControl } from '@angular/forms';
import { NumberConfig } from '../pop-number/number-config.model';
import { SwitchConfig } from '../pop-switch/switch-config.model';
export class MinMaxConfig {
    // No Defaults
    constructor(params) {
        // Defaults
        this.allowNegative = false;
        this.bubble = false;
        this.disabled = false;
        this.facade = false;
        this.helpText = '';
        this.id = '';
        this.label = 'Min/Max';
        this.limit = 100;
        this.minValue = 1;
        this.maxValue = 10;
        this.min = 1;
        this.max = 10;
        this.minColumn = 'min';
        this.maxColumn = 'max';
        this.minReadonly = false;
        this.maxReadonly = false;
        this.minRequired = false;
        this.maxRequired = false;
        this.minDefaultValue = 1;
        this.maxDefaultValue = 1;
        this.minLabel = 'Minimum';
        this.maxLabel = 'Maximum';
        this.message = '';
        this.showTooltip = false;
        this.tooltip = '';
        this.value = '';
        if (params)
            for (const i in params)
                this[i] = params[i];
        if (!this.patch)
            this.patch = { field: '', duration: 750, path: '', disabled: false };
        if (this.patch.displayIndicator !== false)
            this.patch.displayIndicator = true;
        // const maxOptions = [];
        // let maxLimit = this.limit;
        // while( maxLimit ){
        //   maxOptions.push({ value: maxLimit, name: maxLimit, sort: maxLimit });
        //   maxLimit--;
        // }
        if (this.limit && this.maxValue > this.limit)
            this.maxValue = +this.limit;
        this.isMaxConfig = new SwitchConfig({
            label: this.maxLabel,
            value: +this.maxValue ? true : this.maxRequired ? true : false,
            disabled: this.maxRequired ? true : false,
            bubble: true,
            facade: false,
            labelPosition: 'after',
        });
        this.maxConfig = new NumberConfig({
            label: null,
            value: +this.maxValue,
            min: this.min,
            max: this.max,
            readonly: this.maxReadonly,
            facade: true,
            minimal: true,
            bubble: true,
        });
        if (this.minValue > this.maxValue)
            this.minValue = this.maxValue;
        // let minLimit = this.maxValue;
        // const minOptions = [];
        // while( minLimit ){
        //   minOptions.push({ value: minLimit, name: minLimit, sort: minLimit });
        //   minLimit--;
        // }
        this.isMinConfig = new SwitchConfig({
            label: this.minLabel,
            value: +this.minValue ? true : this.minRequired ? true : false,
            disabled: this.minRequired ? true : false,
            bubble: true,
            facade: false,
            labelPosition: 'after',
        });
        this.minConfig = new NumberConfig({
            label: null,
            value: +this.minValue,
            min: this.min,
            max: this.max,
            readonly: this.minReadonly,
            facade: true,
            minimal: true,
            bubble: true,
        });
        if (!this.control)
            this.setControl();
    }
    setControl() {
        this.control = (this.disabled ? new FormControl({
            value: { min: this.minValue, max: this.maxValue },
            disabled: true
        }) : new FormControl(this.value, (this.validators ? this.validators : [])));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWluLW1heC5tb2RlbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wb3AtY29tbW9uL3NyYy9saWIvbW9kdWxlcy9iYXNlL3BvcC1maWVsZC1pdGVtL3BvcC1taW4tbWF4L21pbi1tYXgubW9kZWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUc3QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDakUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBeUNqRSxNQUFNLE9BQU8sWUFBWTtJQXdEdkIsY0FBYztJQVFkLFlBQVksTUFBOEI7UUEvRDFDLFdBQVc7UUFFWCxrQkFBYSxHQUFJLEtBQUssQ0FBQztRQUN2QixXQUFNLEdBQUcsS0FBSyxDQUFDO1FBR2YsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUNqQixXQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2YsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLE9BQUUsR0FBRyxFQUFFLENBQUM7UUFHUixVQUFLLEdBQUcsU0FBUyxDQUFDO1FBQ2xCLFVBQUssR0FBRyxHQUFHLENBQUM7UUFDWixhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2IsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUVkLFFBQUcsR0FBRyxDQUFDLENBQUM7UUFDUixRQUFHLEdBQUcsRUFBRSxDQUFDO1FBRVQsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixjQUFTLEdBQUcsS0FBSyxDQUFDO1FBRWxCLGdCQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLGdCQUFXLEdBQUcsS0FBSyxDQUFDO1FBSXBCLGdCQUFXLEdBQUksS0FBSyxDQUFDO1FBSXJCLGdCQUFXLEdBQUksS0FBSyxDQUFDO1FBRXJCLG9CQUFlLEdBQUksQ0FBQyxDQUFDO1FBQ3JCLG9CQUFlLEdBQUks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TztTQUN2QixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksWUFBWSxDQUFDO1lBQ2hDLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVE7WUFDckIsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO1lBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO1lBQ2IsUUFBUSxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzFCLE1BQU0sRUFBRSxJQUFJO1lBQ1osT0FBTyxFQUFFLElBQUk7WUFDYixNQUFNLEVBQUUsSUFBSTtTQUNiLENBQUMsQ0FBQztRQUdILElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUV4QyxDQUFDO0lBR0QsVUFBVTtRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQztZQUMvQyxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqRCxRQUFRLEVBQUUsSUFBSTtTQUNmLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBQztJQUNqRixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEZpZWxkSXRlbVBhdGNoSW50ZXJmYWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcG9wLWNvbW1vbi5tb2RlbCc7XG5pbXBvcnQgeyBTZXRDb250cm9sIH0gZnJvbSAnLi4vLi4vLi4vLi4vcG9wLWNvbW1vbi1kb20ubW9kZWxzJztcbmltcG9ydCB7IE51bWJlckNvbmZpZyB9IGZyb20gJy4uL3BvcC1udW1iZXIvbnVtYmVyLWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQgeyBTd2l0Y2hDb25maWcgfSBmcm9tICcuLi9wb3Atc3dpdGNoL3N3aXRjaC1jb25maWcubW9kZWwnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWluTWF4Q29uZmlnSW50ZXJmYWNlIHtcbiAgYWxsb3dOZWdhdGl2ZT86IGJvb2xlYW47XG4gIGJ1YmJsZT86IGJvb2xlYW47ICAgICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgZGlzYWJsZWQ/OiBib29sZWFuOyAgICAgICAgICAgICAvLyBNYXJrIGFzIGRpc2FibGVkLlxuICBkaXNwbGF5RXJyb3JzPzogYm9vbGVhbjsgICAgICAgIC8vIElmIEVycm9yIG1lc3NhZ2VzIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gIGhlbHBUZXh0Pzogc3RyaW5nOyAgICAgICAgICAgIC8vIE9uIGhvdmVyIGhlbHBlciB0ZXh0LlxuICBpZD86IHN0cmluZyB8IG51bWJlcjsgICAgICAgICAgIC8vIEEgbnVtYmVyIHRoYXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgZXZlbnRzIHNvIHlvdSBrbm93IHdoaWNoIGZpZWxkIGl0IGNhbWUgZnJvbS5cbiAgZmFjYWRlPzogYm9vbGVhbjtcbiAgIFxuICBsYWJlbD86IHN0cmluZzsgICAgICAgICAgICAgICAgIC8vIElucHV0IGxhYmVsLlxuICBsaW1pdD86IG51bWJlcjsgICAgICAgICAgICAgLy8gRmllbGQgbXVsdGlwbGVfbWF4IGxlbmd0aC5cbiAgbWluVmFsdWU/OiBudW1iZXI7XG4gIG1heFZhbHVlPzogbnVtYmVyO1xuXG4gIG1pblJlYWRvbmx5PzogYm9vbGVhbjtcbiAgbWF4UmVhZG9ubHk/OiBib29sZWFuO1xuXG4gIG1pbj86IG51bWJlcjtcbiAgbWF4PzogbnVtYmVyO1xuXG5cbiAgbWluUmVxdWlyZWQ/OiBib29sZWFuO1xuICBtYXhSZXF1aXJlZD86IGJvb2xlYW47XG5cbiBcbiAgbWluQ29sdW1uPzogc3RyaW5nOyAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHBhdGNoIG5hbWUgZm9yIG11bHRpcGxlX21pblxuICBtYXhDb2x1bW4/OiBzdHJpbmc7ICAgICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgcGF0Y2ggbmFtZSBmb3IgbXVsdGlwbGVfbWF4XG4gIG1pbmltYWw/OiBib29sZWFuO1xuICBtaW5MYWJlbD86IHN0cmluZzsgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBwYXRjaCBuYW1lIGZvciBtdWx0aXBsZV9taW5cbiAgbWF4TGFiZWw/OiBzdHJpbmc7ICAgICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgcGF0Y2ggbmFtZSBmb3IgbXVsdGlwbGVfbWF4XG4gIG1ldGFkYXRhPzogb2JqZWN0OyAgICAgICAgICAgICAgLy8gQXJyYXkgb2Ygb2JqZWN0cy4gVG8gYmUgcGFzc2VkIGJhY2sgb24gdGhlIGV2ZW50IGVtaXR0ZXIgYW5kIGluY2x1ZGVkIGluIGEgcGF0Y2ggaWYgZGVzaXJlZC5cbiAgcGF0Y2g/OiBGaWVsZEl0ZW1QYXRjaEludGVyZmFjZTsgLy8gSWYgZmllbGQgc2hvdWxkIGJlIGF1dG8tcGF0Y2hlZC5cbiAgc2Vzc2lvbj86IGJvb2xlYW47ICAgICAgICAgICAgICAgIC8vIElmIGZpZWxkIHZhbHVlIGNoYW5nZSBzaG91bGQgYmUgc3RvcmVkIHRvIGNvcmUgZW50aXR5XG4gIHNlc3Npb25QYXRoPzogc3RyaW5nOyAgICAgICAgICAgIC8vIElmIHNlc3Npb24gcGF0aCBpZiBub3Qgc3RvcmVkIG9uIHJvb3QgZW50aXR5XG4gIHRvb2x0aXA/OiBzdHJpbmc7ICAgICAgICAgICAgICAgLy8gVG9vbHRpcCBmb3IgaW5mb3JtYXRpb24gdG8gc2hvdyB3aGVuIGlucHV0IGlzIGZvY3VzZWRcbn1cblxuXG5leHBvcnQgY2xhc3MgTWluTWF4Q29uZmlnIGltcGxlbWVudHMgU2V0Q29udHJvbCB7XG4gIC8vIERlZmF1bHRzXG5cbiAgYWxsb3dOZWdhdGl2ZT8gPSBmYWxzZTtcbiAgYnViYmxlID0gZmFsc2U7XG4gIGNvbnRyb2w7XG5cbiAgZGlzYWJsZWQgPSBmYWxzZTtcbiAgZmFjYWRlID0gZmFsc2U7XG4gIGhlbHBUZXh0ID0gJyc7XG4gIGlkID0gJyc7XG4gIGlzTWluQ29uZmlnOiBTd2l0Y2hDb25maWc7XG4gIGlzTWF4Q29uZmlnOiBTd2l0Y2hDb25maWc7XG4gIGxhYmVsID0gJ01pbi9NYXgnO1xuICBsaW1pdCA9IDEwMDtcbiAgbWluVmFsdWUgPSAxO1xuICBtYXhWYWx1ZSA9IDEwO1xuXG4gIG1pbiA9IDE7XG4gIG1heCA9IDEwO1xuXG4gIG1pbkNvbHVtbiA9ICdtaW4nO1xuICBtYXhDb2x1bW4gPSAnbWF4JztcblxuICBtaW5SZWFkb25seSA9IGZhbHNlO1xuICBtYXhSZWFkb25seSA9IGZhbHNlO1xuXG4gIG1pbkNvbmZpZzogTnVtYmVyQ29uZmlnO1xuXG4gIG1pblJlcXVpcmVkPyA9IGZhbHNlO1xuXG4gIG1heENvbmZpZzogTnVtYmVyQ29uZmlnO1xuXG4gIG1heFJlcXVpcmVkPyA9IGZhbHNlO1xuXG4gIG1pbkRlZmF1bHRWYWx1ZT8gPSAxO1xuICBtYXhEZWZhdWx0VmFsdWU/ID0gMTtcblxuICBtaW5MYWJlbCA9ICdNaW5pbXVtJztcbiAgbWF4TGFiZWwgPSAnTWF4aW11bSc7XG5cbiAgbWluaW1hbDogZmFsc2U7XG4gIG1ldGFkYXRhO1xuICBtZXNzYWdlID0gJyc7XG4gIG5hbWU7XG4gIHBhdHRlcm47XG4gIHBhdGNoOiBGaWVsZEl0ZW1QYXRjaEludGVyZmFjZTtcbiAgc2Vzc2lvbj86IGJvb2xlYW47XG4gIHNlc3Npb25QYXRoPzogc3RyaW5nO1xuICBzaG93VG9vbHRpcCA9IGZhbHNlO1xuICB0b29sdGlwID0gJyc7XG4gIHRyaWdnZXJPbkNoYW5nZTtcbiAgdHJhbnNmb3JtYXRpb247XG4gIHZhbGlkYXRvcnM7XG4gIHZhbHVlID0gJyc7XG5cbiAgLy8gTm8gRGVmYXVsdHNcblxuXG5cblxuXG5cblxuICBjb25zdHJ1Y3RvcihwYXJhbXM/OiBNaW5NYXhDb25maWdJbnRlcmZhY2Upe1xuICAgIGlmKCBwYXJhbXMgKSBmb3IoIGNvbnN0IGkgaW4gcGFyYW1zICkgdGhpc1sgaSBdID0gcGFyYW1zWyBpIF07XG4gICAgaWYoICF0aGlzLnBhdGNoICkgdGhpcy5wYXRjaCA9IHsgZmllbGQ6ICcnLCBkdXJhdGlvbjogNzUwLCBwYXRoOiAnJywgZGlzYWJsZWQ6IGZhbHNlIH07XG4gICAgaWYoIHRoaXMucGF0Y2guZGlzcGxheUluZGljYXRvciAhPT0gZmFsc2UgKSB0aGlzLnBhdGNoLmRpc3BsYXlJbmRpY2F0b3IgPSB0cnVlO1xuXG4gICAgLy8gY29uc3QgbWF4T3B0aW9ucyA9IFtdO1xuICAgIC8vIGxldCBtYXhMaW1pdCA9IHRoaXMubGltaXQ7XG4gICAgLy8gd2hpbGUoIG1heExpbWl0ICl7XG4gICAgLy8gICBtYXhPcHRpb25zLnB1c2goeyB2YWx1ZTogbWF4TGltaXQsIG5hbWU6IG1heExpbWl0LCBzb3J0OiBtYXhMaW1pdCB9KTtcbiAgICAvLyAgIG1heExpbWl0LS07XG4gICAgLy8gfVxuXG4gICAgaWYoIHRoaXMubGltaXQgJiYgdGhpcy5tYXhWYWx1ZSA+IHRoaXMubGltaXQgKSB0aGlzLm1heFZhbHVlID0gK3RoaXMubGltaXQ7XG5cbiAgICB0aGlzLmlzTWF4Q29uZmlnID0gbmV3IFN3aXRjaENvbmZpZyh7XG4gICAgICBsYWJlbDogdGhpcy5tYXhMYWJlbCxcbiAgICAgIHZhbHVlOiArdGhpcy5tYXhWYWx1ZSA/IHRydWUgOiB0aGlzLm1heFJlcXVpcmVkID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMubWF4UmVxdWlyZWQgPyB0cnVlIDogZmFsc2UsXG4gICAgICBidWJibGU6IHRydWUsXG4gICAgICBmYWNhZGU6IGZhbHNlLFxuICAgICAgbGFiZWxQb3NpdGlvbjogJ2FmdGVyJyxcbiAgICB9KTtcblxuICAgIHRoaXMubWF4Q29uZmlnID0gbmV3IE51bWJlckNvbmZpZyh7XG4gICAgICBsYWJlbDogbnVsbCxcbiAgICAgIHZhbHVlOiArdGhpcy5tYXhWYWx1ZSxcbiAgICAgIG1pbjogdGhpcy5taW4sXG4gICAgICBtYXg6IHRoaXMubWF4LFxuICAgICAgcmVhZG9ubHk6IHRoaXMubWF4UmVhZG9ubHksXG4gICAgICBmYWNhZGU6IHRydWUsXG4gICAgICBtaW5pbWFsOiB0cnVlLFxuICAgICAgYnViYmxlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgaWYoIHRoaXMubWluVmFsdWUgPiB0aGlzLm1heFZhbHVlICkgdGhpcy5taW5WYWx1ZSA9IHRoaXMubWF4VmFsdWU7XG5cbiAgICAvLyBsZXQgbWluTGltaXQgPSB0aGlzLm1heFZhbHVlO1xuICAgIC8vIGNvbnN0IG1pbk9wdGlvbnMgPSBbXTtcbiAgICAvLyB3aGlsZSggbWluTGltaXQgKXtcbiAgICAvLyAgIG1pbk9wdGlvbnMucHVzaCh7IHZhbHVlOiBtaW5MaW1pdCwgbmFtZTogbWluTGltaXQsIHNvcnQ6IG1pbkxpbWl0IH0pO1xuICAgIC8vICAgbWluTGltaXQtLTtcbiAgICAvLyB9XG5cblxuICAgIHRoaXMuaXNNaW5Db25maWcgPSBuZXcgU3dpdGNoQ29uZmlnKHtcbiAgICAgIGxhYmVsOiB0aGlzLm1pbkxhYmVsLFxuICAgICAgdmFsdWU6ICt0aGlzLm1pblZhbHVlID8gdHJ1ZSA6IHRoaXMubWluUmVxdWlyZWQgPyB0cnVlIDogZmFsc2UsXG4gICAgICBkaXNhYmxlZDogdGhpcy5taW5SZXF1aXJlZCA/IHRydWUgOiBmYWxzZSxcbiAgICAgIGJ1YmJsZTogdHJ1ZSxcbiAgICAgIGZhY2FkZTogZmFsc2UsXG4gICAgICBsYWJlbFBvc2l0aW9uOiAnYWZ0ZXInLFxuICAgIH0pO1xuXG4gICAgdGhpcy5taW5Db25maWcgPSBuZXcgTnVtYmVyQ29uZmlnKHtcbiAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgdmFsdWU6ICt0aGlzLm1pblZhbHVlLFxuICAgICAgbWluOiB0aGlzLm1pbixcbiAgICAgIG1heDogdGhpcy5tYXgsXG4gICAgICByZWFkb25seTogdGhpcy5taW5SZWFkb25seSxcbiAgICAgIGZhY2FkZTogdHJ1ZSxcbiAgICAgIG1pbmltYWw6IHRydWUsXG4gICAgICBidWJibGU6IHRydWUsXG4gICAgfSk7XG5cblxuICAgIGlmKCAhdGhpcy5jb250cm9sICkgdGhpcy5zZXRDb250cm9sKCk7XG5cbiAgfVxuXG5cbiAgc2V0Q29udHJvbCgpe1xuICAgIHRoaXMuY29udHJvbCA9ICggdGhpcy5kaXNhYmxlZCA/IG5ldyBGb3JtQ29udHJvbCh7XG4gICAgICB2YWx1ZTogeyBtaW46IHRoaXMubWluVmFsdWUsIG1heDogdGhpcy5tYXhWYWx1ZSB9LFxuICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICB9KSA6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnZhbHVlLCAoIHRoaXMudmFsaWRhdG9ycyA/IHRoaXMudmFsaWRhdG9ycyA6IFtdICkpICk7XG4gIH1cbn1cbiJdfQ==